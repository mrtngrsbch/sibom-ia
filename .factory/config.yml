# Configuración Droid - SIBOM Scraper Assistant
# Este archivo configura cómo los droids deben trabajar en este proyecto

# ⚠️ NOTA IMPORTANTE
# Este proyecto usa OpenCode como herramienta principal.
# - Configuración activa: .opencode/
# - Este archivo: Configuración para Factory/Droids (runtime alternativo)
# - Portabilidad: .agents/ funciona con cualquier herramienta

# Contexto principal para agentes
agents_context:
  # LEER PRIMERO (manual completo + reglas obligatorias)
  read_first:
    - .agents/README.md           # Manual completo (500+ líneas)
    - .agents/steering/            # Reglas obligatorias
  
  # Consultar para detalles técnicos profundos (opcional)
  reference_for_details:
    - .kiro/specs/                 # Análisis técnico profundo
  
  # Restricciones DURAS (no negociables)
  hard_constraints:
    - .agents/steering/python-patterns.md
    - .agents/steering/typescript-patterns.md
    - .agents/steering/error-handling.md
    - .agents/steering/testing-patterns.md
    - .agents/steering/performance-optimization.md

# Comandos comunes del proyecto
project_commands:
  chatbot:
    install: "cd chatbot && pnpm install"
    dev: "cd chatbot && pnpm run dev"
    build: "cd chatbot && pnpm run build"
    test: "cd chatbot && pnpm test"
  
  scraper:
    setup: "cd python-cli && python3 -m venv venv && source venv/bin/activate && pip install -r requirements.txt"
    run: "cd python-cli && python3 sibom_scraper.py --limit 5"
    test: "cd python-cli && pytest"

# Especialistas disponibles
droids:
  - unit-test-and-code-review-specialist
  - data-pipeline-specialist
  - scraper-automation-specialist

# Flujo de trabajo
workflow:
  before_coding:
    - "Leer .agents/README.md para entender arquitectura completa"
    - "Revisar .agents/steering/ para reglas obligatorias"
    - "Consultar .kiro/specs/ si necesitas detalles técnicos (opcional)"
  
  before_commit:
    - "Verificar que se siguieron patrones de .agents/steering/"
    - "Ejecutar tests relevantes"
    - "Revisar que no se rompieron reglas obligatorias"
    - "Sincronizar .agents/ si es necesario"

# Arquitectura
architecture: |
  .agents/ (DOMINIO) → .opencode/ (RUNTIME PRINCIPAL)
                    → .factory/ (RUNTIME ALTERNATIVO)
                    → .kiro/ (REFERENCIA)
  
  Principios:
  - .agents/ define QUÉ hacer (agnóstico de herramientas)
  - .factory/ define CÓMO Factory/Droids ejecuta
  - .kiro/ es referencia técnica opcional

# Notas importantes
notes: |
  - .agents/ es la FUENTE DE VERDAD para dominio de agentes
  - .agents/README.md tiene TODO lo que necesitas (500+ líneas)
  - .kiro/ es la REFERENCIA TÉCNICA para análisis profundo
  - Siempre leer .agents/README.md ANTES de modificar código
  - Consultar .kiro/ solo cuando necesites detalles de implementación
  - OpenCode es la herramienta principal, Factory es alternativa
  - Portabilidad: .agents/ funciona con cualquier herramienta
